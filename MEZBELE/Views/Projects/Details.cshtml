@model MEZBELE.Models.Projects

@{
    ViewBag.Title = Model.Name + " - Proje Detayları";
    Layout = "~/Views/Shared/App/_AppLayout.cshtml";
}

<div class="ui one column grid">
    <div class="column">
        <div class="ui raised segment">
            <a class="ui red ribbon label">Proje Bilgileri</a>

            <br /><br />

            @if (Session["UserId"].ToString() == Model.OwnerID.ToString())
            {
            <p class="ui right aligned header">
                @Html.ActionLink("Ekip Oluştur", "Create", "Crews", new { id = Model.Id }, new { @class = "ui positive button", @style = "margin-bottom: 5px;" })
                @Html.ActionLink("Ekip Ata", "AddCrew", new { id = Model.Id }, new { @class = "ui positive button" })
            </p>
            }

            <table class="ui definition table">
                <tbody>
                    <tr>
                        <td>@Html.DisplayNameFor(model => model.OwnerID)</td>
                        <td>@Html.DisplayFor(model => model.OwnerID)</td>
                    </tr>
                    <tr>
                        <td>@Html.DisplayNameFor(model => model.IsIndividual)</td>
                        <td>@Html.DisplayFor(model => model.IsIndividual)</td>
                    </tr>
                    <tr>
                        <td>@Html.DisplayNameFor(model => model.IsPrivate)</td>
                        <td>@Html.DisplayFor(model => model.IsPrivate)</td>
                    </tr>
                    <tr>
                        <td>@Html.DisplayNameFor(model => model.Name)</td>
                        <td>@Html.DisplayFor(model => model.Name)</td>
                    </tr>
                    <tr>
                        <td>@Html.DisplayNameFor(model => model.Description)</td>
                        <td>@Html.DisplayFor(model => model.Description)</td>
                    </tr>
                    <tr>
                        <td>@Html.DisplayNameFor(model => model.CreationDate)</td>
                        <td>@Html.DisplayFor(model => model.CreationDate)</td>
                    </tr>
                    <tr>
                        <td>@Html.DisplayNameFor(model => model.ChangeDate)</td>
                        <td>@Html.DisplayFor(model => model.ChangeDate)</td>
                    </tr>
                </tbody>
            </table>

            @* Ekip Listesi *@
            <a class="ui teal ribbon label">Projedeki Ekipler</a>

            <table class="ui very basic table" style="padding: 10px;">
                <thead>
                    <tr>
                        <th>Ekip</th>
                        @if (Session["UserId"].ToString() == Model.OwnerID.ToString())
                        {
                        <th>Seçenekler</th>
                        }
                    </tr>
                </thead>
                <tbody>

                    @foreach (var item in Model.Crews)
                    {
                    <tr>
                        <td>
                            <h4 class="ui image header">
                                <img src="@item.Avatar" class="ui mini rounded image">
                                <div class="content">
                                    @Html.DisplayFor(modelItem => item.Name)
                                </div>
                            </h4>
                        </td>

                        @if (Session["UserId"].ToString() == Model.OwnerID.ToString())
                        {
                        <td style="padding-left:2em;">

                            @if (Session["UserId"].ToString() != item.Id.ToString())
                            {
                            @Html.ActionLink("Ekibi Çıkar", "DeleteCrew", new { id = Model.Id, crewId = item.Id }, new { @class = "ui negative button" })
                            }

                        </td>
                        }

                    </tr>
                    }

                </tbody>
            </table>
            @* Ekip listesi sonu *@
            <div class="field" style="padding: 10px;">
                @Html.ActionLink("Düzenle", "Edit", new { id = Model.Id }, new { @class = "ui teal submit button", @style = "margin-bottom: 5px;" })
                @Html.ActionLink("Proje listesine dön", "Index", null, new { @class = "ui negative button" })
            </div>
        </div>
    </div>
</div>